{"version":3,"sources":["app/scripts/app.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA,SAAS,QAAQ,CAAC,aAAT,CAAuB,SAAvB;;AACT,UAAU,QAAQ,CAAC,gBAAT,CAA0B,kBAA1B;;AAEV,eAAe;;AACf,YAAY,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB;;AAGZ,QAAQ;;AACR,WAAW,MAAM,CAAC;;AAClB,WAAW;;AACX,WAAW;;AAIX,QAAQ,CAAC,gBAAT,CAA0B,UAA1B,EAAsC,SAAC,KAAD;AAGlC;EAAA,UAAU,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC;EACjC,SAAS,MAAM,CAAC,YAAP,CAAoB,OAApB;EACT,WAAW;EAGX,IAAG,CAAC,UAAU,CAAX,KAAkB,CAAC,UAAU,CAAX,CAArB;IACI,QAAQ;IACR,MAAM,CAAC,SAAP,IAAoB;WACpB,WAAW,MAAM,CAAC,UAHtB;GAAA,MAMK,IAAI,WAAU,GAAd;IACD,IAAI,iBAAgB,IAApB;MACI,QAAQ;MACR,MAAM,CAAC,SAAP,IAAoB;MACpB,eAAe;aACf,WAAW,MAAM,CAAC,UAJtB;KADC;GAAA,MAQA,IAAI,WAAU,GAAd;WACD,MAAM,CAAC,SAAP,GAAmB,GADlB;GAAA,MAIA,IAAG,CAAC,WAAU,GAAX,KAAmB,CAAC,WAAU,GAAX,CAAnB,IAAsC,CAAC,WAAU,GAAX,CAAtC,IAAyD,CAAC,WAAU,GAAX,CAA5D;IACD,QAAQ;IACR,MAAM,CAAC,SAAP,IAAoB;WACpB,WAAW,MAAM,CAAC,UAHjB;GAAA,MAMA,IAAI,WAAU,GAAd;IACD,QAAQ;IACR,MAAM,CAAC,SAAP,IAAoB;IACpB,WAAW,MAAM,CAAC;WAClB,SAAS,KAJR;GAAA,MAOA,IAAG,CAAC,WAAU,GAAX,KAAmB,CAAC,YAAW,EAAZ,CAAtB;IACG,IAAG,WAAY,KAAf;MACI,WAAW,QAAQ,CAAC,KAAT,CAAe,GAAf,CAAmB,CAAC,IAApB,CAAyB,IAAzB;MACX,WAAW,KAAK,QAAL;aACX,MAAM,CAAC,SAAP,GAAmB,SAHvB;KAAA;MAKI,WAAW,KAAK,QAAL;aACX,MAAM,CAAC,SAAP,GAAmB,SANvB;KADH;;AAvC6B,CAAtC;;AAiDA,IAAI;;AACJ,OAAM,IAAI,OAAO,CAAC,MAAlB;EACI,OAAQ,GAAE,CAAC,OAAX,GAAqB,SAAC,KAAD;AAEjB;IAAA,SAAS,IAAC;IACV,IAAG,WAAU,GAAb;MACI,MAAM,CAAC,SAAP,GAAkB;MAClB,eAAe,MAFnB;KAAA,MAIK,IAAG,WAAU,GAAb;MACD,WAAW,MAAM,CAAC,SAAS,CAAC,OAAjB,CAAyB,IAAzB,EAA+B,GAA/B,CAAmC,CAAC,KAApC,CAA0C,GAA1C,CAA8C,CAAC,IAA/C,CAAoD,IAApD;MACX,WAAW,QAAS,SAAQ,CAAC,MAAT,GAAkB,CAAlB;MAEpB,IAAG,CAAC,SAAS,CAAC,OAAV,CAAkB,QAAlB,IAA8B,CAAC,CAAhC,KAAsC,CAAC,aAAY,GAAb,CAAzC;QACI,WAAW,QAAQ,CAAC,OAAT,CAAiB,IAAjB,EAAsB,EAAtB,EADf;;MAGA,IAAG,aAAc,EAAjB;QACI,WAAW,KAAK,QAAL;QACX,MAAM,CAAC,SAAP,GAAmB,SAFvB;;MAIA,eAAe,MAXd;KAAA,MAaA,IAAI,SAAS,CAAC,OAAV,CAAkB,MAAlB,IAA4B,CAAC,CAAjC;MACD,WAAW,MAAM,CAAC;MAClB,WAAW,QAAS,SAAQ,CAAC,MAAT,GAAkB,CAAlB;MAEpB,IAAG,CAAC,aAAc,EAAf,KAAuB,CAAC,SAAS,CAAC,OAAV,CAAkB,QAAlB,MAA+B,CAAC,CAAjC,CAA1B;QACI,MAAM,CAAC,SAAP,IAAoB,OADxB;OAAA,MAGK,IAAG,CAAC,aAAY,EAAb,KAAqB,CAAC,WAAU,GAAX,CAAxB;QACD,MAAM,CAAC,SAAP,IAAoB,OADnB;;MAGL,IAAG,CAAC,SAAS,CAAC,OAAV,CAAkB,QAAlB,IAA8B,CAAC,CAAhC,KAAuC,CAAC,QAAQ,CAAC,MAAT,GAAkB,CAAnB,CAA1C;QACQ,MAAM,CAAC,SAAP,GAAmB,QAAQ,CAAC,OAAT,CAAiB,IAAjB,EAAuB,MAAvB,EAD3B;;MAGA,eAAe,MAbd;KAAA,MAeA,IAAG,WAAU,GAAb;MACD,IAAG,CAAC,YAAJ;QACI,MAAM,CAAC,SAAP,IAAoB;QACpB,eAAe,KAFnB;OADC;KAAA;MAMD,MAAM,CAAC,SAAP,IAAoB;MACpB,WAAW,MAAM,CAAC,UAPjB;;WASL,KAAK,CAAC,cAAN;EA5CiB;EA6CrB;AA9CJ","file":"../Calculator/public/js/app.js","sourcesContent":["screen = document.querySelector('.screen')\r\nonClick = document.querySelectorAll('#calculator span')\r\n\r\ndecimalAdded = false\r\noperators = ['+','-','x','/','^']\r\n\r\n# get input and results\r\ninput = '' # save the input keys here\r\ninputVal = screen.innerHTML #the screen's current value\r\nequation = ''\r\nlastChar = ''\r\n\r\n#add is 43, minus is 45, multiply is 42, divide is 47, power is 94\r\n# Get on keydown values\r\ndocument.addEventListener 'keypress', (event) ->\r\n\r\n    #get Key Code\r\n    keyCode = event.keyCode or event.which\r\n    keyVal = String.fromCharCode(keyCode)\r\n    keyInput = ''\r\n    \r\n    # keys from 0-9\r\n    if (keyVal >= 0) and (keyVal <= 9) \r\n        input = keyVal\r\n        screen.innerHTML += input   \r\n        inputVal = screen.innerHTML\r\n    \r\n    # decimal\r\n    else if (keyVal is '.') \r\n        if (decimalAdded != true)\r\n            input = keyVal\r\n            screen.innerHTML += input\r\n            decimalAdded = true\r\n            inputVal = screen.innerHTML\r\n    \r\n    # clear screen\r\n    else if (keyVal is 'c')\r\n        screen.innerHTML = ''\r\n    \r\n    # operators\r\n    else if (keyVal is '+') or (keyVal is '*') or (keyVal is '/') or (keyVal is '-')\r\n        input = keyVal\r\n        screen.innerHTML += input\r\n        inputVal = screen.innerHTML\r\n    \r\n    # if there's a power\r\n    else if (keyVal is '^')\r\n        input = '^'\r\n        screen.innerHTML += input\r\n        inputVal = screen.innerHTML\r\n        powFix = true\r\n    \r\n    #get results\r\n    else if (keyVal is '=') or (keyCode is 13)\r\n            if powFix isnt off\r\n                inputVal = inputVal.split('^').join('**')\r\n                equation = eval(inputVal)\r\n                screen.innerHTML = equation\r\n            else\r\n                equation = eval(inputVal)\r\n                screen.innerHTML = equation\r\n\r\n# get on click keys\r\ni = 0\r\nwhile i < onClick.length\r\n    onClick[i].onclick = (event) ->\r\n        \r\n        btnVal = @innerHTML\r\n        if btnVal is 'C' \r\n            screen.innerHTML =''\r\n            decimalAdded = false\r\n            \r\n        else if btnVal is '='\r\n            inputVal = screen.innerHTML.replace(/x/g, '*').split('^').join('**')\r\n            lastChar = inputVal[inputVal.length - 1]\r\n            \r\n            if (operators.indexOf(lastChar) > -1) or (lastChar is '.')\r\n                inputVal = inputVal.replace(/.$/,'')\r\n            \r\n            if inputVal isnt ''\r\n                equation = eval(inputVal)\r\n                screen.innerHTML = equation\r\n            \r\n            decimalAdded = false\r\n            \r\n        else if (operators.indexOf(btnVal) > -1 )\r\n            inputVal = screen.innerHTML\r\n            lastChar = inputVal[inputVal.length - 1]\r\n            \r\n            if (inputVal isnt '') and (operators.indexOf(lastChar) is -1)\r\n                screen.innerHTML += btnVal\r\n            \r\n            else if (inputVal is '') and (btnVal is '-')\r\n                screen.innerHTML += btnVal\r\n            \r\n            if (operators.indexOf(lastChar) > -1) and (inputVal.length > 1) \r\n                    screen.innerHTML = inputVal.replace(/.$/, btnVal)\r\n                \r\n            decimalAdded = false\r\n            \r\n        else if btnVal is '.'\r\n            if !decimalAdded\r\n                screen.innerHTML += btnVal\r\n                decimalAdded = true\r\n    \r\n        else \r\n            screen.innerHTML += btnVal\r\n            inputVal = screen.innerHTML\r\n            \r\n        event.preventDefault()\r\n    i++"]}